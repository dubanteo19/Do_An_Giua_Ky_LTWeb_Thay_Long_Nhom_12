<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="styles/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="styles/base.css">
    <link rel="stylesheet" type="text/css" href="styles/main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" type="text/css" href="styles/news.css">
    <link rel="stylesheet" type="text/css" href="styles/footer.css">
    <link rel="stylesheet" type="text/css" href="styles/nav.css">
    <link rel="stylesheet" href="styles/login.css">
    <script type="text/javascript" src="javascripts/jquery-3.7.1.js"></script>
    <title></title>
</head>
<body>
<iframe onload="resizeIframe(this,320)" src="top-title.html?title=Đăng ký"></iframe>
<section class="section">
    <div class="container ">
        <div class="wrap_background_aside ">
            <div class="wrap_background_aside">
                <div class="row">
                    <div style="margin: auto;" class="col-lg-4 col-md-6 col-sm-12 col-12 col-xl-4 offset-xl-4 offset-lg-4 offset-md-3 offset-xl-3">
                        <div class="row no-margin align-items-center" style="background: #fff;border-radius: 5px;">
                            <div class="page-login clearfix no-padding">
                                <div class="wpx">
                                    <h1 class="title_heads text-center pt-3"><span>Đăng ký</span></h1>
                                    <div id="overlay">
                                        <div class="loader"></div>
                                    </div>
                                    <div id="login" class="section">
                                        <form method="post" action="login" id="customer_register" accept-charset="UTF-8">
                                            <div class="form-signup clearfix">
                                                <div class="row">
                                                    <div class="col-md-12 col-lg-12 col-sm-12 col-xs-12">
                                                        <fieldset class="form-group">
                                                            <input type="text" class="form-input" value="" name="lastName" id="lastName" placeholder="Họ" required="">
                                                        </fieldset>
                                                    </div>
                                                    <div class="col-md-12 col-lg-12 col-sm-12 col-xs-12">
                                                        <fieldset class="form-group">
                                                            <input type="text" class="form-input" value="" name="firstName" id="firstName" placeholder="Tên" required="">
                                                        </fieldset>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-md-12 col-lg-12 col-sm-12 col-xs-12">
                                                        <fieldset class="form-group">
                                                            <input type="email" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,63}$" class="form-input" value="" name="email" id="email" placeholder="Email" required="">
                                                        </fieldset>
                                                    </div>
                                                    <div class="col-md-12 col-lg-12 col-sm-12 col-xs-12">
                                                        <fieldset class="form-group">
                                                            <input placeholder="Số điện thoại" type="text" pattern="\d+" class="form-input form-control-comment" name="PhoneNumber" required="" id="PhoneNumber">
                                                        </fieldset>
                                                    </div>
                                                    <div class="col-md-12 col-lg-12 col-sm-12 col-xs-12">
                                                        <fieldset class="form-group">
                                                            <input type="password" class="form-input" value="" name="password" id="password" placeholder="Mật khẩu" required="">
                                                            <div id="eye">
                                                                <i class="far fa-eye"></i>
                                                            </div>
                                                        </fieldset>
                                                    </div>
                                                    <div id="error-message" style="color: red;"></div>
                                                    <div class="col-md-12 col-lg-12 col-sm-12 col-xs-12">
                                                        <fieldset class="form-group">
                                                            <input type="password" class="form-input" value="" name="password" id="password-again" placeholder="Nhập lại mật khẩu" required="">
                                                            <div id="eyes-again">
                                                                 <i class="far fa-eye"></i>
                                                            </div>
                                                        </fieldset>
                                                    </div>
                                                </div>
                                                <div class="section" style="justify-items: center; text-align: center">
                                                    <button type="submit" value="Đăng ký" class="btn btn-green w-100" style="color: #fff">Đăng ký</button>
                                                </div>
                                            </div>
                                        </form>
                                        <div class="block social-login--facebooks" style="justify-items: center; text-align: center">
                                            <p class="a-center">
                                                Hoặc đăng nhập bằng
                                            </p>
                                            <a href="javascript:void(0)" class="social-login--facebook" onclick="loginFacebook()"><img width="129px" height="37px" alt="facebook-login-button" src="images/logo/fb-btn.svg"></a>
                                            <a href="javascript:void(0)" class="social-login--google" onclick="loginGoogle()"><img width="129px" height="37px" alt="google-login-button" src="images/logo/gp-btn.svg"></a>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<footer>
    <iframe src="footer.html" onload="resizeIframe(this,339)"></iframe>
</footer>
</body>

<script>
    // document.addEventListener('DOMContentLoaded', function() {
    //     document.getElementById('customer_register').addEventListener('submit', function(event) {
    //         event.preventDefault();
    //         var password = document.getElementById('password').value;
    //         var confirmPassword = document.getElementById('password-again').value;
    //         var errorMessageElement = document.getElementById('error-message');
    //         if (password !== confirmPassword) {
    //             errorMessageElement.textContent = 'Mật khẩu không trùng khớp. Vui lòng thử lại.';
    //             event.preventDefault();
    //         }
    //         else{
    //             document.getElementById('customer_register').addEventListener('submit', function(event) {
    //                 event.preventDefault(); // Ngăn chặn gửi form mặc định
    //
    //                 // Lấy dữ liệu từ các trường nhập liệu
    //                 var lastName = document.getElementById('lastName').value;
    //                 var firstName = document.getElementById('firstName').value;
    //                 var email = document.getElementById('email').value;
    //                 var phoneNumber = document.getElementById('PhoneNumber');
    //                 var password = document.getElementById('password').value;
    //
    //                 // Lưu dữ liệu vào localStorage
    //                 localStorage.setItem('lastName', lastName);
    //                 localStorage.setItem('firstName', firstName);
    //                 localStorage.setItem('email', email);
    //                 localStorage.setItem('PhoneNumber', phoneNumber);
    //                 localStorage.setItem('password', password);
    //
    //                 var overlay = document.getElementById('overlay');
    //                 overlay.style.display = 'block';
    //
    //                 // Tạo hiệu ứng loading trong 2 giây (có thể thay đổi thời gian tùy ý)
    //                 setTimeout(function() {
    //                     // Nếu thông tin đúng, chuyển hướng đến trang khác
    //                     window.location.href = 'index.html';
    //                 }, 2000);
    //             });
    //         }
    //     });
    //
    // });
    document.addEventListener('DOMContentLoaded', function() {
        document.getElementById('customer_register').addEventListener('submit', function(event) {
            event.preventDefault();
            var password = document.getElementById('password').value;
            var confirmPassword = document.getElementById('password-again').value;
            var errorMessageElement = document.getElementById('error-message');

            if (password !== confirmPassword) {
                errorMessageElement.textContent = 'Mật khẩu không trùng khớp. Vui lòng thử lại.';
                event.preventDefault();
            } else {
                var users = JSON.parse(localStorage.getItem('users')) || []; // Lấy danh sách người dùng từ localStorage

                // Lấy thông tin người dùng từ form
                var lastName = document.getElementById('lastName').value;
                var firstName = document.getElementById('firstName').value;
                var email = document.getElementById('email').value;
                var phoneNumber = document.getElementById('PhoneNumber');
                var password = document.getElementById('password').value;

                // Tạo một đối tượng người dùng mới
                var newUser = {
                    lastName: lastName,
                    firstName: firstName,
                    email: email,
                    phoneNumber: phoneNumber,
                    password: password
                };

                // Thêm người dùng vào danh sách
                users.push(newUser);

                // Lưu danh sách người dùng mới vào localStorage
                localStorage.setItem('users', JSON.stringify(users));

                var overlay = document.getElementById('overlay');
                overlay.style.display = 'block';

                // Tạo hiệu ứng loading trong 2 giây (có thể thay đổi thời gian tùy ý)
                setTimeout(function() {
                    // Nếu thông tin đúng, chuyển hướng đến trang khác
                    window.location.href = 'index.html';
                }, 2000);
            }
        });
    });
    $(document).ready(function(){
        $('#eye').click(function(){
            $(this).toggleClass('open');
            $(this).children('i').toggleClass('fa-eye-slash fa-eye');
            if($(this).hasClass('open')){
                $(this).prev().attr('type', 'text');
            }else{
                $(this).prev().attr('type', 'password');
            }
        });
    });
    $(document).ready(function(){
        $('#eyes-again').click(function(){
            $(this).toggleClass('open');
            $(this).children('i').toggleClass('fa-eye-slash fa-eye');
            if($(this).hasClass('open')){
                $(this).prev().attr('type', 'text');
            }else{
                $(this).prev().attr('type', 'password');
            }
        });
    });
</script>
<script src="https://code.jquery.com/jquery-3.6.0.js"></script>
<script type="text/javascript" src="javascripts/main.js"></script>
</html>